<div class="container py-5">
  <h1 class="text-center text-danger mb-5 display-4">Supprimer une série</h1>

  @if (!auth.isModeratorOrAdmin()) {
    <div class="text-center py-5">
      <h2 class="text-danger">Accès refusé</h2>
      <p>Seuls les modérateurs peuvent supprimer.</p>
    </div>

  } @else if (loading) {
    <div class="text-center py-5">
      <app-loading-spinner />
    </div>

  } @else {
    <div class="card max-w-md mx-auto p-5 text-center">
      <img [src]="tmdb.getImage(serie.posterPath)" class="w-75 mx-auto rounded shadow-lg mb-4" />

      <h2 class="text-light fs-2 mb-3">{{ serie.name }}</h2>
      <p class="text-muted mb-4">
        {{ serie.numberOfSeasons }} saison{{ serie.numberOfSeasons > 1 ? 's' : '' }} •
        {{ serie.numberOfEpisodes }} épisode{{ serie.numberOfEpisodes > 1 ? 's' : '' }}
      </p>
      <p class="text-warning fs-4 mb-5">Note : {{ serie.voteAverage | number:'1.1-1' }}/10</p>

      <div class="alert-danger p-4 rounded mb-5">
        <p class="mb-0 fs-5">
          Êtes-vous sûr de vouloir supprimer définitivement cette série ?
          <br><strong>Cette action est irréversible.</strong>
        </p>
      </div>

      <div class="d-flex justify-center gap-4">
        <button (click)="confirmDelete()" class="btn btn-danger large">
          Oui, supprimer
        </button>
        <button (click)="router.navigate(['/serie', serie.id])" class="btn btn-outline large">
          Non, annuler
        </button>
      </div>
    </div>
  }
</div>
